#!/usr/bin/env bash
#
# Script to set colors generated by 'wal'
# https://github.com/dylanaraps/wal

# Source generated colors.
source "${HOME}/.cache/wal/colors.sh"

reload_dunst() {
    pkill dunst && \
        dunst \
            -lb "$color0" \
            -nb "$color0" \
            -cb "$color0" \
            -lf "$color9"  \
            -bf "$color9"  \
            -cf "$color7" &
}

set_bar() {
    pkill bar
    sleep 1
    polybar top &
}

set_sublime() {
    ${HOME}/.config/sublime-text-3/Packages/wal/base16-wal.tmTheme.sh > ${HOME}/.config/sublime-text-3/Packages/wal/base16-wal.tmTheme
}
set_scss() {
    sassc --style expanded "${HOME}/projects/startpage/scss/style.scss" > "${HOME}/projects/startpage/style.css"
}

set_gtk() {
    ${HOME}/.gtkrc-2.0.mine.sh > ${HOME}/.gtkrc-2.0.mine
}

main() {
    reload_dunst &
    set_gtk &
    set_bar &
    set_sublime &
    set_scss &
    fix_xcursor
}

main >/dev/null 2>&1
